# DDD가 화두가 된 이유 

MSA 이전엔 **모놀리식 아키텍처**(Monolithic Architecture) 였다. 모놀리식 아키텍처에서 **MSA** 로 전환해야 하는 이슈가 생겼다. 

하나의 큰 아키텍처를 어떤 기준으로 **나누어야 하는데**,  그 **기준**이 무엇인지가 큰 이슈였다. 

DDD(도메인 주도 설계) 에서 이미 그 해결법을 다루고 있었고, 화두가 되었다.



## Monolithic Architecture

하나의 서비스 또는 어플리케이션이 **거대한 아키텍처**를 가지는 것이다. 

* 장점
  * 개발 초기에는 단순한 아키텍처 구조와 개발의 용이함
  * 개발, 테스트 및 배포가 간편하다
* 단점
  * 규모가 커짐에 따라 복잡도가 심각하게 증가한다.
  * 작은 변경에도 전체 프로그램을 다시 빌드, 배포 해야한다. 
  * 프로그래밍 언어와 프레임워크를 변경할 수 없다.



## MSA (Microservice Architecture)

큰 애플리케이션 하나를 **여러 개의 작은 서비스**로 나누고, 이 서비스를 **조합**해 비즈니스 로직을 수행하는 아키텍처이다. 
서비스를 기준으로 팀을 나눈다. 각 팀에서 UI~DB까지 전담한다. 

* 장점
  * 서비스별로 나누어 모듈성이 향상된다.
  * 분산화된 데이터 관리 : 서비스마다 별도의 데이터베이스를 사용한다. (라이프사이클을 가진다.)
* 단점 
  * 코드, 데이터 중복 문제가 생긴다.
  * 통합 테스트가 어렵다.







## 용어 정리 

>  도메인, 도메인 모델 등의 용어가 여러곳에서 사용됨으로 정확하게 구분해야한다.



* ###  도메인

  * ####  Data :  Type & 길이

  * #### DDD :  문제영역, BOUNDED CONTEXT, 요구사항



* ### 도메인 모델

  * ####  기본

    **도메인** 자체를 표현하는 **개념적**인 모델 

    > 도메인 = 문제의 영역 =고객의 요구 사항 => 고객의 요구 사항 표현

    - 책에선 p.4,5 1.3, 1.4 그림과 같이 UML 로 표현할 수 있다. (클래스 다이어그램, 상태 다이어그램 표현 가능)

    - 여러 대상이 같은 **이해**하고 **공유** 하기 위해서 의사소통 시에 사용된다. 

      - 이런 것을 **유비쿼터스 언어** 라고 한다.

      - **유비쿼터스 언어**로써 사용되는 표현법 중 하나가 **MDD** (Model Driven Development) - 모델주도개발

        > Note
        >
        > 도메인 모델을 그릴때, 도메인 대상인지 아닌지 판단하는게 어렵다. 일반적으로 대외 관계이면 대상이 아니다. (방화벽 내 > 대내관계 / 방화벽 외 > 대외관계)

    - 개념모델과 구현모델의 사이

      - 구현모델은 개념모델을 따라가도록 해야한다. (MDD)

      - 4+1 View Model : 고객의 요구사항 시나리오를 4개의 관점에서 바라보는 접근법. 각 관점은 다양한 이해관계자의 관점이라고 생각할 수 있음.

        ![ex_screenshot](https://mblogthumb-phinf.pstatic.net/20131108_135/eg_lim_1383920068506mkDpf_PNG/4%2B1_view_model_and_UML_views.png?type=w2)

        ​

  * ####아키텍처

    MVC 중 Model 에 도메인 모델 이란 용어를 사용

    ##### 아키텍처 계층

    | 계층   | 설명                                                         |
    | ------ | ------------------------------------------------------------ |
    | 표현   | View. UI 표현 부분                                           |
    | 응용   | View. Spring 에서 Controller에 해당. 업무 로직을 구현하지 않는다. (어떤 경우에 업무 로직을 조합하는 경우도 있으나, 대부분 구현하지 않는다.) |
    | 도메인 | Model + Controller. **도메인 규칙(요구사항)**을 **구현**한다. <br>Spring 의 Service에 해당한다. 업무로직을 담는다. |
